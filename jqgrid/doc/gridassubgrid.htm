<html><head>
   <title>Grid as subgrid</title>
   <meta name="generator"  content="HelpMaker">
   <meta name="keywords"  content="Welcome">
   <link rel="stylesheet"  type="text/css"  href="hm.css"></head>
<body bgcolor="#FFFCEA">

<table width="100%"  border="0"  cellspacing="0"  cellpadding="2"  bgcolor="#C0C0C0">
  <tr>
    <td align="left">
      <body><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">Grid as subgrid</span></font></div></body></html>

    </td>
    <td align="right">
      <font face="Arial"  size="2">
        <a href="subgridexample.htm">Previous</a>&nbsp;<a href="WhatisjqGrid.htm">Top</a>&nbsp;<a href="initialization.htm">Next</a>
      </font>
    </td>
  </tr></table>
<hr><body><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">This is not a feature of the grid, but rather a technique. To do this we can use a two 
events described in options array - subGridRowExpanded and subGridRowColapsed</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">When these events are defined the population of the data in the subgrid is not 
executed. This way we can use the subGridUrl to get our custom data and put it into 
the expanded row. Having this it is easy to construct another grid which will act as 
subgrid.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">Here is this technique. We use again our example</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&lt;script type=&quot;text/javascript&quot;&gt;</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">jQuery(&quot;#listsg11&quot;).jqGrid({&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;url:'example.php',</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;datatype: &quot;xml&quot;,</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;height: 200,</span></font></div><div align="left"  style="margin-left:0mm; margin-right:0mm; text-indent:12mm; margin-top:0.00mm; margin-bottom:0.00mm;"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">colNames:['Inv No','Date', 'Amount','Tax','Total','Notes'],</span></font></div><div align="left"  style="margin-left:0mm; margin-right:0mm; text-indent:12mm; margin-top:0.00mm; margin-bottom:0.00mm;"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">colModel :[ </span></font></div><div align="left"  style="margin-left:12mm; margin-right:0mm; text-indent:12mm; margin-top:0.00mm; margin-bottom:0.00mm;"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{name:'invid',index:'invid', width:55}, </span></font></div><div align="left"  style="margin-left:12mm; margin-right:0mm; text-indent:12mm; margin-top:0.00mm; margin-bottom:0.00mm;"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{name:'invdate',index:'invdate', width:90}, </span></font></div><div align="left"  style="margin-left:12mm; margin-right:0mm; text-indent:12mm; margin-top:0.00mm; margin-bottom:0.00mm;"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{name:'amount',index:'amount', width:80, align:'right'}, </span></font></div><div align="left"  style="margin-left:12mm; margin-right:0mm; text-indent:12mm; margin-top:0.00mm; margin-bottom:0.00mm;"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{name:'tax',index:'tax', width:80, align:'right'}, </span></font></div><div align="left"  style="margin-left:12mm; margin-right:0mm; text-indent:12mm; margin-top:0.00mm; margin-bottom:0.00mm;"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{name:'total',index:'total', width:80,align:'right'}, </span></font></div><div align="left"  style="margin-left:12mm; margin-right:0mm; text-indent:12mm; margin-top:0.00mm; margin-bottom:0.00mm;"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{name:'note',index:'note', width:150, sortable:false} ],</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rowNum:8,</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rowList:[8,10,20,30],</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;imgpath: gridimgpath,</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pager: jQuery('#pager'),</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sortname: 'id',</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; viewrecords: true,</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; sortorder: &quot;desc&quot;,</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;subGrid: true,</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;subGridRowExpanded: function(subgrid_id, row_id) {</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// we pass two parameters</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// subgrid_id is a id of the div tag created whit in a table data</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// the row_id is the id of the row</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// If we wan to pass additinal parameters to the url we can use</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// a method getRowData(row_id) - which returns associative array in 
type name-value</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// here we can easy construct the flowing</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;var subgrid_table_id;</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;subgrid_table_id = subgrid_id+&quot;_t&quot;;</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;$(&quot;#&quot;+subgrid_id).html(&quot;&lt;table id='&quot;+subgrid_table_id+&quot;' 
class='scroll' cellpadding='0' cellspacing='0'&gt;&lt;/table&gt;&quot;);</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;jQuery(&quot;#&quot;+subgrid_table_id).jqGrid({</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;url:&quot;subgrid.php?q=2&amp;id=&quot;+row_id,</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;datatype: &quot;xml&quot;,</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;colNames: ['No','Item','Qty','Unit','Total'],</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;colModel: [</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{name:&quot;num&quot;,index:&quot;num&quot;,width:80,key:true},</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{name:&quot;item&quot;,index:&quot;item&quot;,width:130},</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{name:&quot;qty&quot;,index:&quot;qty&quot;,width:80,align:&quot;right&quot;},</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{name:&quot;unit&quot;,index:&quot;unit&quot;,width:80,align:&quot;right&quot;},&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{name:&quot;total&quot;,index:&quot;total&quot;,width:100,align:&quot;right&quot;,sortable:false}</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;],</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;height: 100%,</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;rowNum:20,</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;imgpath: gridimgpath,</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;sortname: 'num',</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sortorder: &quot;asc&quot;</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;})</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">});</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&lt;/script&gt;</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">Note that subGridRowColapsed is not defined. This is true because when the row is 
colapsed the contents of the div tag is removed. </span></font></div></body></html>

</body></html>
