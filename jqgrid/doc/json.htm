<html><head>
   <title>JSON</title>
   <meta name="generator"  content="HelpMaker">
   <meta name="keywords"  content="Welcome">
   <link rel="stylesheet"  type="text/css"  href="hm.css"></head>
<body bgcolor="#FFFCEA">

<table width="100%"  border="0"  cellspacing="0"  cellpadding="2"  bgcolor="#C0C0C0">
  <tr>
    <td align="left">
      <body><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">JSON</span></font></div></body></html>

    </td>
    <td align="right">
      <font face="Arial"  size="2">
        <a href="xmlstring.htm">Previous</a>&nbsp;<a href="WhatisjqGrid.htm">Top</a>&nbsp;<a href="jsonstring.htm">Next</a>
      </font>
    </td>
  </tr></table>
<hr><body><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">Another feature of jqGrid is the ability to read JSON data. As in xml data three options 
should be considerd here.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b><br></b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>datatype</b>: json, (or jsonstring)</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b><br></b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>jsonReader</b> : {<br>
root: &quot;rows&quot;,<br>
page: &quot;page&quot;,<br>
total: &quot;total&quot;,<br>
records: &quot;records&quot;,<br>
repeatitems: true,<br>
cell: &quot;cell&quot;,<br>
id: &quot;id&quot;,</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">userdata: &quot;userdata&quot;,&#160; // NEW - see at bottom of the page<br>
subgrid: {root:&quot;rows&quot;, repeatitems: true, cell:&quot;cell&quot;}}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span><span style=" font-size:10pt"><b>datastr:</b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">If the parameter <b>datatype</b> is <b>'json'</b> jqGrid expect the following default format for 
json data.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{ total: &quot;xxx&quot;, page: &quot;yyy&quot;, records: &quot;zzz&quot;,<br>
rows : [<br>
{id:&quot;1&quot;, cell:[&quot;cell11&quot;, &quot;cell12&quot;, &quot;cell13&quot;]},<br>
{id:&quot;2&quot;, cell:[&quot;cell21&quot;, &quot;cell22&quot;, &quot;cell23&quot;]},<br>
...<br>
]}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">Here is a brief description of elements<br><b>total</b> - total pages for the query<br><b>page</b> - current page of the query<br><b>records</b> - total number of records for the query</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>rows</b> is array that contain the actual data.<br>
The elements of rows are:<br><b>id </b>- the unique id of the row<br><b>cell</b> is array that contain the data for a row.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span><span style=" font-size:10pt">In this case the number of the elements in the cell array should be equal to the 
number of elements in colModel.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">Let's consider our example in PHP and MySQL with JSON data. In This case I suppose 
that the json service is enabled in PHP.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Arial"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="times new roman"  color="#ff8c00"><span style=" font-size:12pt">&lt;?php</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
include(&quot;dbconfig.php&quot;);</span></font></div><div align="left"><font face="times new roman"  color="#ff8c00"><span style=" font-size:12pt">$page = $_REQUEST['page'];</span></font><font face="times new roman"><span style=" font-size:12pt">  // get the requested page<br></span></font><font face="times new roman"  color="#ff8c00"><span style=" font-size:12pt">$limit = $_REQUEST['rows'];</span></font><font face="times new roman"><span style=" font-size:12pt"> // get how many rows we want to have into the grid<br></span></font><font face="times new roman"  color="#ff8c00"><span style=" font-size:12pt">$sidx = $_REQUEST['sidx'];</span></font><font face="times new roman"><span style=" font-size:12pt"> // get index row - i.e. user click to sort<br></span></font><font face="times new roman"  color="#ff8c00"><span style=" font-size:12pt">$sord = $_REQUEST['sord'];</span></font><font face="times new roman"><span style=" font-size:12pt"> // get the direction<br></span></font><font face="times new roman"  color="#ff8c00"><span style=" font-size:12pt">if(!$sidx) $sidx =1;</span></font></div><div align="left"><font face="times new roman"><span style=" font-size:12pt">// connect to the database<br></span></font><font face="times new roman"  color="#ff8c00"><span style=" font-size:12pt">$db = mysql_connect($dbhost, $dbuser, $dbpassword)</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
or die(&quot;Connection Error: &quot; . mysql_error());</span></font></div><div align="left"><font face="times new roman"  color="#ff8c00"><span style=" font-size:12pt">mysql_select_db($database) or die(&quot;Error conecting to db.&quot;);</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
$result = mysql_query(&quot;SELECT COUNT(*) AS count FROM invheader a, clients b 
WHERE a.client_id=b.client_id&quot;.$wh);</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
$row = mysql_fetch_array($result,MYSQL_ASSOC);</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
$count = $row['count'];</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
if( $count &gt;0 ) {</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
    $total_pages = ceil($count/$limit);</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
} else {</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
    $total_pages = 0;</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
}</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
if ($page &gt; $total_pages) $page=$total_pages;</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
$start = $limit*$page - $limit; // do not put $limit*($page - 1)</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
if ($start&lt;0) $start = 0;</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
$SQL = &quot;SELECT invid,invdate,amount,tax,total,note FROM invheader ORDER BY 
&quot;.$sidx.&quot; &quot;.$sord. &quot; LIMIT &quot;.$start.&quot; , &quot;.$limit;</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
$result = mysql_query( $SQL ) or die(&quot;Could not execute query.&quot;.mysql_error());</span></font><font face="times new roman"><span style=" font-size:12pt"><br></span></font><font face="times new roman"><span style=" font-size:12pt">// Construct the json data<br></span></font><font face="times new roman"  color="#ff8c00"><span style=" font-size:12pt">$responce-&gt;page = $page; // current page</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
$responce-&gt;total = $total_pages; // total pages</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
$responce-&gt;records = $count; // total records</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
$i=0;</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
while($row = mysql_fetch_array($result,MYSQL_ASSOC)) {</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
    $responce-&gt;rows[$i]['id']=$row[invid]; //id </span></font><font face="times new roman"><span style=" font-size:12pt"><br>
    $responce-&gt;rows[$i]['cell']=array($row[invid],$row[invdate],$row[amount],$row[tax],$row[total],$row[note]);</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
    $i++;</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
} </span></font><font face="times new roman"><span style=" font-size:12pt"><br>
echo json_encode($responce);</span></font><font face="times new roman"><span style=" font-size:12pt"><br>
?&gt;</span></font></div><div align="left"><font face="Arial"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">As in xmlReader, the structure in jsonReader is the same. The only missing part is 
row element which is not needed for JSON data. Let's begin our walk trought the 
jsonReader.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">The first element is a root element. This element describes from where begin our 
data.<br>
In other words this point to the array that contain the data. If we set</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span><span style=" font-size:10pt">jsonReader : {</span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">root:&quot;invdata&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">}<br><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">then the returned string should be:</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{ total: &quot;xxx&quot;, page: &quot;yyy&quot;, records: &quot;zzz&quot;,<br></span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">invdata :</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"> [<br>
{id:&quot;1&quot;, cell:[&quot;cell11&quot;, &quot;cell12&quot;, &quot;cell13&quot;]},<br>
{id:&quot;2&quot;, cell:[&quot;cell21&quot;, &quot;cell22&quot;, &quot;cell23&quot;]}<br>
]}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">The page, total and record elements describes the the information needed for the 
pager. Example</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">jsonReader:{<br></span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">root:&quot;invdata&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">,<br></span></font><font face="Bitstream Vera Sans"  color="#009ff4"><span style=" font-size:10pt">page : &quot;currpage&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br>
total :&quot;totalpages&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br>
records: &quot;totalrecords&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">Then the data should be:</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{</span></font><font face="Bitstream Vera Sans"  color="#009ff4"><span style=" font-size:10pt"> totalpages: &quot;xxx&quot;, currpage: &quot;yyy&quot;, totalrecords: &quot;zzz&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">,<br></span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">invdata :</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"> [<br>
{id:&quot;1&quot;, cell:[&quot;cell11&quot;, &quot;cell12&quot;, &quot;cell13&quot;]},<br>
{id:&quot;2&quot;, cell:[&quot;cell21&quot;, &quot;cell22&quot;, &quot;cell23&quot;]}<br>
]}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">The <b>cell </b>element describes the array which contain the data for the row.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">jsonReader:{<br></span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">root:&quot;invdata&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">,<br></span></font><font face="Bitstream Vera Sans"  color="#009ff4"><span style=" font-size:10pt">page : &quot;currpage&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br>
total :&quot;totalpages&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br>
records: &quot;totalrecords&quot;,</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"  color="#ff3700"><span style=" font-size:10pt">cell: &quot;invrow&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">The data for this description is</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span><span style=" font-size:10pt">{ </span></font><font face="Bitstream Vera Sans"  color="#009ff4"><span style=" font-size:10pt">totalpages: &quot;xxx&quot;, currpage: &quot;yyy&quot;, totalrecords: &quot;zzz&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">,<br></span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">invdata :</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"> [<br>
{id:&quot;1&quot;, </span></font><font face="Bitstream Vera Sans"  color="#ff0b00"><span style=" font-size:10pt">invrow:</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">[&quot;cell11&quot;, &quot;cell12&quot;, &quot;cell13&quot;]},<br>
{id:&quot;2&quot;,</span></font><font face="Bitstream Vera Sans"  color="#ff0b00"><span style=" font-size:10pt"> invrow:</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">[&quot;cell21&quot;, &quot;cell22&quot;, &quot;cell23&quot;]}<br>
]}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">The<b> id</b> element descibes the unique id for the row</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">jsonReader:{<br></span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">root:&quot;invdata&quot;,</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"  color="#009ff4"><span style=" font-size:10pt">page : &quot;currpage&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br>
total :&quot;totalpages&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br>
records: &quot;totalrecords&quot;,</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"  color="#ff0b00"><span style=" font-size:10pt">cell: &quot;invrow&quot;,</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"  color="#00098d"><span style=" font-size:10pt">id:&quot;invid&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">The data for this description is:</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span><span style=" font-size:10pt">{ </span></font><font face="Bitstream Vera Sans"  color="#009ff4"><span style=" font-size:10pt">totalpages: &quot;xxx&quot;, currpage: &quot;yyy&quot;, totalrecords: &quot;zzz&quot;,</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">invdata :</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"> [<br>
{</span></font><font face="Bitstream Vera Sans"  color="#00098d"><span style=" font-size:10pt">invid:</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&quot;1&quot;,</span></font><font face="Bitstream Vera Sans"  color="#ff0b00"><span style=" font-size:10pt"> invrow:</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">[&quot;cell11&quot;, &quot;cell12&quot;, &quot;cell13&quot;]},<br>
{</span></font><font face="Bitstream Vera Sans"  color="#00098d"><span style=" font-size:10pt">invid:</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">&quot;2&quot;,</span></font><font face="Bitstream Vera Sans"  color="#ff0000"><span style=" font-size:10pt"> invrow:</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">[&quot;cell21&quot;, &quot;cell22&quot;, &quot;cell23&quot;]}<br>
]}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">It is possible to set the cell element to empty string. It is possible to set the id as 
number.<br>
Here is a example of this:</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">jsonReader:{<br></span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">root:&quot;invdata&quot;,</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"  color="#009ff4"><span style=" font-size:10pt">page : &quot;currpage&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br>
total :&quot;totalpages&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br>
records: &quot;totalrecords&quot;,</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">cell: &quot;&quot;,<br></span></font><font face="Bitstream Vera Sans"  color="#00098d"><span style=" font-size:10pt">id</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">:&quot;0&quot;<br>
}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">In this case the id is the first element from the row data</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{ </span></font><font face="Bitstream Vera Sans"  color="#009ff4"><span style=" font-size:10pt">totalpages: &quot;xxx&quot;, currpage: &quot;yyy&quot;, totalrecords: &quot;zzz&quot;,</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">invdata :</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"> [<br>
{</span></font><font face="Bitstream Vera Sans"  color="#00098d"><span style=" font-size:10pt">&quot;1&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">,&quot;cell11&quot;, &quot;cell12&quot;, &quot;cell13&quot;},<br>
{</span></font><font face="Bitstream Vera Sans"  color="#00098d"><span style=" font-size:10pt">&quot;2&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">, &quot;cell21&quot;, &quot;cell22&quot;, &quot;cell23&quot;}<br>
]}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b><br></b></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>repeatitems</b> element tells jqGrid that the information for the data in the row is 
repeatable - i.e. the elements have the same tag <b>cell</b> described in cell element.<br>
Setting this option to false instruct jqGrid to search elements in the json data by 
name. This is the name from colModel or the name described with <b>jsonmap</b> option in 
colModel</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span><span style=" font-size:10pt">Here is a example:</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">jsonReader:{<br></span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">root:&quot;invdata&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">,<br></span></font><font face="Bitstream Vera Sans"  color="#009ff4"><span style=" font-size:10pt">page : &quot;currpage&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br>
total :&quot;totalpages&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br>
records: &quot;totalrecords&quot;,</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"  color="#8e0000"><span style=" font-size:10pt">repeatitems:false,</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"  color="#00098d"><span style=" font-size:10pt">id:&quot;0&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span><span style=" font-size:10pt">The resulting data in our example should be:</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{ </span></font><font face="Bitstream Vera Sans"  color="#009ff4"><span style=" font-size:10pt">totalpages: &quot;xxx&quot;, currpage: &quot;yyy&quot;, totalrecords: &quot;zzz&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">,<br></span></font><font face="Bitstream Vera Sans"  color="#ff8c00"><span style=" font-size:10pt">invdata :</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"> [<br></span></font><font face="Bitstream Vera Sans"  color="#8e0000"><span style=" font-size:10pt">{invid:</span></font><font face="Bitstream Vera Sans"  color="#00098d"><span style=" font-size:10pt">&quot;1&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">,</span></font><font face="Bitstream Vera Sans"  color="#8e0000"><span style=" font-size:10pt">invdate:&quot;cell11&quot;, amount:&quot;cell12&quot;, tax:&quot;cell13&quot;, total:&quot;1234&quot;, 
note:&quot;somenote&quot; </span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">},<br>
{</span></font><font face="Bitstream Vera Sans"  color="#8e0000"><span style=" font-size:10pt">invid</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">:</span></font><font face="Bitstream Vera Sans"  color="#00098d"><span style=" font-size:10pt">&quot;2&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt">,</span></font><font face="Bitstream Vera Sans"  color="#8e0000"><span style=" font-size:10pt">invdate:&quot;cell21&quot;, amount:&quot;cell22&quot;, tax:&quot;cell23&quot;, total:&quot;2345&quot;, note:&quot;some 
note&quot;</span></font><font face="Bitstream Vera Sans"><span style=" font-size:10pt"> }<br>
]}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span><span style=" font-size:10pt">and the id element in this case is 'invid'.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">A very useful think here is that there is no need to include all the data that is 
represented in colModel. Since we make a search by name the order can not match 
the order in colModel. Hence the flowing string will be interpreted in jqGrid.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{ totalpages: &quot;xxx&quot;, currpage: &quot;yyy&quot;, totalrecords: &quot;zzz&quot;,<br>
invdata : [<br>
{invid:&quot;1&quot;,invdate:&quot;cell11&quot;,  note:&quot;somenote&quot; },<br>
{invid:&quot;2&quot;, amount:&quot;cell22&quot;, tax:&quot;cell23&quot;, total:&quot;2345&quot; }<br>
]}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">In some cases we need to have custom data from the request that we can use it later 
or display additional information from the request somewhere in the html page or in 
the grid. To do that a userdata tag can be used.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><b>jsonReader</b> : {</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">...</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">userdata: &quot;<b>userdata</b>&quot;,</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">...</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">{ total: &quot;xxx&quot;, page: &quot;yyy&quot;,records: &quot;zzz&quot;, <b>userdata</b>: {totalinvoice:240.00,tax:40.00},<br>
rows : [<br>
{id:&quot;1&quot;, cell:[&quot;cell11&quot;, &quot;cell12&quot;, &quot;cell13&quot;]},<br>
{id:&quot;2&quot;, cell:[&quot;cell21&quot;, &quot;cell22&quot;, &quot;cell23&quot;]},<br>
...<br>
]}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">After the request is complete this information is stored in userData array of the 
options array. In this case we have:</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">userData = {<b>totalinvoice</b>:240.00,<b>tax</b>:40.00}</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">The data can be accessed two ways.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">1. Using a method getReturnedData (provided by Paul Tiseo) - this method return 
directly the userData array.</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">$(&quot;mygrid&quot;).getReturnedData()</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">2. Using a getGridParam method. To do that we need to request this data:</span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt"><br></span></font></div><div align="left"><font face="Bitstream Vera Sans"><span style=" font-size:10pt">$(&quot;mygrid&quot;).getGridParam('userData') - which return the same array.</span></font></div><div align="left">&nbsp;&nbsp;</div></body></html>

</body></html>
